<UserControl
    xmlns="https://github.com/avaloniaui"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:page="clr-namespace:ManaxClient.ViewModels.Pages.Login"
    xmlns:localization="clr-namespace:Jeek.Avalonia.Localization;assembly=Jeek.Avalonia.Localization"
    mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
    x:Class="ManaxClient.Views.Pages.Login.LoginPageView"
    x:DataType="page:LoginPageViewModel"
    Background="{DynamicResource Background1}">

    <Grid>
        <ComboBox HorizontalAlignment="Right" 
                  VerticalAlignment="Top"
                  Margin="20"
                  MinWidth="120"
                  ItemsSource="{Binding AvailableLanguages}"
                  SelectedItem="{Binding SelectedLanguage}"
                  DisplayMemberBinding="{Binding DisplayName}"
                  Padding="8,6"
                  CornerRadius="6"
                  BorderThickness="1"
                  BorderBrush="{DynamicResource Background3}"
                  Background="{DynamicResource Background2}" />
        
        <Grid HorizontalAlignment="Center" VerticalAlignment="Center">
            <Border Classes="card" MaxWidth="400" MinWidth="350">
                <ScrollViewer
                    HorizontalScrollBarVisibility="Disabled"
                    VerticalScrollBarVisibility="Hidden">
                    <StackPanel Spacing="24">

                        <StackPanel Spacing="8" HorizontalAlignment="Center">
                            <TextBlock Text="ðŸ“º" FontSize="48" HorizontalAlignment="Center" />
                            <TextBlock Classes="title" Text="{localization:Localize LoginPage.Title}" HorizontalAlignment="Center" />
                            <TextBlock Text="{localization:Localize LoginPage.Subtitle}"
                                       HorizontalAlignment="Center"
                                       Foreground="{DynamicResource SecondaryBrush}" />
                        </StackPanel>

                        <StackPanel Spacing="16">
                            <StackPanel Spacing="6">
                                <TextBlock Text="{localization:Localize LoginPage.Username}"
                                           FontWeight="Medium"
                                           Foreground="{DynamicResource SecondaryBrush}" />
                                <TextBox Name="TbxUsername"
                                         Loaded="TbxUsername_OnLoaded"
                                         Text="{Binding Username}"
                                         Watermark="{localization:Localize LoginPage.Username.Placeholder}"
                                         Padding="12"
                                         CornerRadius="8"
                                         BorderThickness="1"
                                         BorderBrush="{DynamicResource Background3}" />
                            </StackPanel>

                            <StackPanel Spacing="6">
                                <TextBlock Text="{localization:Localize LoginPage.Password}"
                                           FontWeight="Medium"
                                           Foreground="{DynamicResource SecondaryBrush}" />
                                <TextBox Text="{Binding Password}"
                                         PasswordChar="â€¢"
                                         Watermark="{localization:Localize LoginPage.Password.Placeholder}"
                                         Padding="12"
                                         CornerRadius="8"
                                         BorderThickness="1"
                                         BorderBrush="{DynamicResource Background3}" />
                            </StackPanel>

                            <StackPanel Spacing="6">
                                <TextBlock Text="{localization:Localize LoginPage.Server}"
                                           FontWeight="Medium"
                                           Foreground="{DynamicResource SecondaryBrush}" />
                                <Grid
                                    ColumnDefinitions="*,Auto,Auto">
                                    <TextBox Text="{Binding Host}"
                                             Grid.Column="0"
                                             Watermark="{localization:Localize LoginPage.Server.Placeholder}"
                                             Padding="12"
                                             CornerRadius="8"
                                             BorderThickness="1"
                                             BorderBrush="{DynamicResource Background3}" />
                                    <Label Content=":"
                                           Grid.Column="1"
                                           VerticalAlignment="Center" />
                                    <NumericUpDown Value="{Binding Port}"
                                                   Increment="1"
                                                   Minimum="1"
                                                   Maximum="65535"
                                                   Grid.Column="2"
                                                   Watermark="8080"
                                                   Padding="12"
                                                   CornerRadius="8"
                                                   BorderThickness="1"
                                                   BorderBrush="{DynamicResource Background3}" />
                                </Grid>
                            </StackPanel>
                        </StackPanel>

                        <Button
                            IsEnabled="{Binding CanLogin}"
                            Classes="primary"
                            Command="{Binding Login}"
                            HorizontalAlignment="Stretch"
                            Padding="16"
                            FontSize="16"
                            HotKey="Enter">
                            <StackPanel Orientation="Horizontal" Spacing="8" HorizontalAlignment="Center">
                                <TextBlock Text="{Binding Emoji}" />
                                <TextBlock Text="{localization:Localize LoginPage.SignIn}" FontWeight="Medium" />
                            </StackPanel>
                        </Button>

                        <Border Background="{DynamicResource Background2}"
                                CornerRadius="8"
                                Padding="12">
                            <StackPanel Spacing="8">
                                <TextBlock Text="{localization:Localize LoginPage.Tip.Title}"
                                           FontWeight="Bold"
                                           Foreground="{DynamicResource InfoBrush}" />
                                <TextBlock
                                    Text="{localization:Localize LoginPage.Tip.Message}"
                                    TextWrapping="Wrap"
                                    FontSize="12"
                                    Foreground="{DynamicResource SecondaryBrush}" />
                            </StackPanel>
                        </Border>
                    </StackPanel>
                </ScrollViewer>

            </Border>
        </Grid>
    </Grid>
</UserControl>